build:
  stage: build
  image: mcr.microsoft.com/dotnet/sdk:7.0-alpine
  variables:
    NUGET_PACKAGES: $CI_PROJECT_DIR/.nuget
  artifacts:
    paths:
      - artifacts/
    expire_in: 42s
    expose_as: Package
  cache:
    paths:
      - .nuget/
  script:
    - apk update && apk add nodejs-current npm
    - dotnet restore Helveg.sln
    - dotnet pack src/Helveg -o artifacts -c Release
